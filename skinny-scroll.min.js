!function(a,b){var c={append:function(a,d,e){var f=b.createElement(e||"div");return c.css(f,d),a.appendChild(f)},bind:function(a,b){return function(){a.apply(b,[].slice.call(arguments))}},on:function(a,b,c){for(var d=b.split(" "),e=0;e<d.length;e++)a.attachEvent?a.attachEvent("on"+d[e],c):a.addEventListener(d[e],c,!1)},off:function(a,b,c){for(var d=b.split(" "),e=0;e<d.length;e++)a.detachEvent?a.detachEvent("on"+d[e],c):a.removeEventListener(d[e],c,!1)},extend:function(a,b){for(var c in b)a[c]=b[c];return a},css:function(a,b){for(var c in b){var d=b[c];if("undefined"!=typeof d){if("number"==typeof d&&"zIndex"!=c&&"opacity"!=c){if(isNaN(d))continue;d=Math.ceil(d)+"px"}try{a.style[c]=d}catch(e){}}}},getPointer:function(a){var c=a.pageX,d=a.pageY;if(a.touches&&(c=a.touches[0].pageX,d=a.touches[0].pageY),null==c){var e=b.documentElement,f=b.body;c=a.clientX+(e.scrollLeft||f.scrollLeft||0)-(e.clientLeft||f.clientLeft||0),d=a.clientY+(e.scrollTop||f.scrollTop||0)-(e.clientTop||f.clientTop||0)}return{x:c,y:d}},getOffset:function(c){var d=b.documentElement,e=c.getBoundingClientRect(c);return{top:e.top+(a.pageYOffset||d.scrollTop)-(d.clientTop||0),left:e.left+(a.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}}};a.SkinnyScroll=function(e,g){var h=null;this.hasTouch="ontouchstart"in a;var i={color:"#fff",radius:6,width:6};this.config=c.extend(i,g);var j=b.getElementById(e)||e;c.css(j,{overflow:"hidden"});var k=j.children[0];c.css(k,{position:"absolute",left:0,top:0,right:0}),this.hasTouch?h=new f(this,j,k):(c.css(k,{overflow:"hidden",bottom:0}),h=new d(this,j,k)),h.redraw(),c.on(a,"resize",h.redraw),this.scrollTop=function(a){return h.scrollTop(a)},this.redraw=function(){return h.redraw()},this.destroy=function(){c.off(a,"resize",h.redraw),h.destroy()}};var d=function(b,d,f){function g(b){if(b=b||a.event,h.enabled){b.preventDefault?b.preventDefault():b.returnValue=!1;var c=0;b.wheelDelta&&(c=-b.wheelDelta/120),b.detail&&(c=b.detail/3),h.scrollTop(h.scrollTop()-20*c)}}var h=this,i=new e(b,d,!0);c.on(d,"DOMMouseScroll mousewheel",g),this.scrollTop=function(a){return void 0===a?-f.scrollTop:(f.scrollTop=-a,void i.setY(f.scrollTop))},this.redraw=function(){return this.enabled=i.redraw(f.scrollHeight,f.offsetHeight),h.scrollTop(h.scrollTop()),this.enabled},this.destroy=function(){c.off(d,"DOMMouseScroll mousewheel",g),i.destroy()}},e=function(d,e,f){function g(d){d=d||a.event,d.preventDefault&&d.preventDefault(),c.on(b,"mousemove",h),c.on(b,"mouseup",i),c.on(j.hand,"mouseup",i),j.diff=c.getPointer(d).y-j.hand.offsetTop}function h(b){return b=b||a.event,d.scrollTop(-(c.getPointer(b).y-j.diff)*j.ratio),!1}function i(d){d=d||a.event,c.off(b,"mousemove",h),c.off(b,"mouseup",i),c.off(j.hand,"mouseup",i)}var j=this,k=d.config.color,l=d.config.radius,m=d.config.width;e=b.getElementById(e)||e,this.rail=c.append(e,{position:"absolute",right:0,top:2,bottom:2,width:m+2,zIndex:90}),this.rail.className="skinnyscrollbar",this.back=c.append(this.rail,{backgroundColor:k,filter:"alpha(opacity=20)",opacity:.2,borderRadius:l,position:"absolute",left:0,top:0,bottom:0,width:m}),this.hand=c.append(this.rail,{backgroundColor:k,filter:"alpha(opacity=40)",opacity:.4,borderRadius:l,position:"absolute",left:0,top:0,width:m,height:7}),this.diff=c.getOffset(this.hand).top,f&&(c.on(this.hand,"mousedown",g),c.on(this.rail,"mousedown",h))};e.prototype={redraw:function(a,b){var c=a>b;return this.rail.style.display=c?"block":"none",this.scrollHeight=a,this.height=b,this.handHeight=Math.max(b/a*this.rail.offsetHeight,25),this.ratio=(a-b)/(this.rail.offsetHeight-this.handHeight),c},destroy:function(){var a=this.rail.parentNode;a&&a.removeChild(this.rail)},setY:function(a){var b=a/this.ratio;isNaN(b)&&(b=0);var c=b+this.handHeight-this.rail.offsetHeight,d=this.hand.style;0>a?(d.height=Math.max(this.handHeight+b,25)+"px",d.top="0px"):c>0?(d.height=Math.max(this.handHeight-c,25)+"px",d.bottom="0px",d.top="auto"):(d.height=this.handHeight+"px",d.top=b+"px")}};var f=function(b,d,f){function g(){clearInterval(h),f.style.WebkitTransitionDuration="0s"}var h,i=this,j=new e(b,d),k="WebKitCSSMatrix"in a,l=k&&"m11"in new WebKitCSSMatrix;this.wrap=d,this.view=f,this.x=0,this.y=0,c.on(f,"touchstart",this),c.on(f,"webkitTransitionEnd",g),f.style.WebkitTransition="-webkit-transform 1s cubic-bezier(0,0,0.2,1)",this.scrollTop=function(a){return void 0===a?(this.clampY(),this.y):(this.setY(a),void j.setY(-a))},this.setY=function(a){this.y=a,f.style.WebkitTransform=l?"translate3d(0, "+a+"px, 0)":"translate(0, "+a+"px)"},this.getY=function(){if(k){var b=a.getComputedStyle(this.view).webkitTransform;if(b&&"none"!==b){var c=new WebKitCSSMatrix(b);return c.f}}return this.y},this.redraw=function(){var a=j.redraw(f.offsetHeight,d.offsetHeight);return i.scrollTop(i.scrollTop()),a},this.destroy=function(){c.off(f,"touchstart",this),c.off(f,"webkitTransitionEnd",g),f.style.WebkitTransition="",j.destroy()},this.animateScrollbar=function(){clearInterval(h),h=setInterval(function(){j.setY(-i.getY())},1e3/30)}};f.prototype={handleEvent:function(a){this[a.type](a)},touchstart:function(a){this.wrap.offsetHeight<this.view.offsetHeight&&(this.moved=!1,this.startX=a.touches[0].pageX-this.x,this.startY=a.touches[0].pageY-this.y,this.view.style.WebkitTransitionDuration="0s",c.on(this.view,"touchmove",this),c.on(this.view,"touchend",this))},touchmove:function(a){this.lastX=this.x,this.lastY=this.y,this.x=a.touches[0].pageX-this.startX,this.y=a.touches[0].pageY-this.startY,1===a.touches.length&&Math.abs(this.y-this.lastY)>Math.abs(this.x-this.lastX)&&(a.preventDefault(),this.moved=!0,this.lastMoveTime=(new Date).getTime(),this.scrollTop(this.y))},touchend:function(a){if(c.off(this.view,"touchmove",this),c.off(this.view,"touchend",this),this.moved){a.preventDefault();var b=this.y-this.lastY,d=(new Date).getTime()-this.lastMoveTime+1;this.y=this.y+200*b/d,this.view.style.WebkitTransitionDuration=this.clampY()?"0.5s":"1s",this.setY(this.y),this.animateScrollbar()}},clampY:function(){return this.y>=0?(this.y=0,!0):this.y<this.wrap.offsetHeight-this.view.offsetHeight?(this.y=this.wrap.offsetHeight-this.view.offsetHeight,!0):void 0}}}(window,document);